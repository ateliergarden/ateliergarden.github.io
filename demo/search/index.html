<!DOCTYPE HTML>
<html lang="no">
<head>
    <base href="/demo/">
    <title>Søk - Ateliergården</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="assets/css/main.css"/>
</head>
<body class="subpage">
<div id="page-wrapper">
    <!-- Header -->
    <section id="header">
        <div class="container">
            <div class="row">
                <div class="col-12">

                    <!-- Logo -->
                    <h1><a href="index.html" id="logo">Ateliergården</a></h1>

                    <!-- Nav -->
                    <nav id="nav">
                        <a href="">Hjem</a>
                        <a href="search">Søk</a>
                        <a href="sitemap">Innholdsfortegnelse</a>
                    </nav>

                </div>
            </div>
        </div>
    </section>

    <!-- Content -->
    <section id="content">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <p>
                        <a href="">Hjem</a> &raquo;
                        
                    </p>
                    
<h2>Søk</h2>
<label for="q"></label><input type="text" id="q">
<div id="result_wrapper">
    <ul id="results">
        <li>Skriv i søkefeltet for å begynne</li>
    </ul>
</div>
<script>
    window.addEventListener('load', function () {

        // @formatter:off
        const documents = [
        {"id":"finn", "url": "finn", "title": "Finn"},
        {"id":"bar", "url": "finn/bar", "title": "Bar"},
        {"id":"baz", "url": "finn/baz", "title": "Baz tittel her"},
        {"id":"bazzer", "url": "finn/baz/bazzer", "title": "Bazzer tittel her"},
        {"id":"foo", "url": "finn/foo", "title": "Foo"},
        {"id":"galleri", "url": "galleri", "title": "Galleri"},
        {"id":"huset", "url": "huset", "title": "Huset"},
        {"id":"ipsum", "url": "ipsum", "title": "Ipsum"},
        {"id":"markus", "url": "markus", "title": "Markus"},
        {"id":"gaming", "url": "markus/gaming", "title": "Gaming"},
        ]
        // @formatter:on

        const miniSearch = new MiniSearch({
            fields: ['title', 'tags'], // fields to index for full-text search
            storeFields: ['title', 'url'], // fields to return with search results
            searchOptions: {
                boost: {title: 2},
                fuzzy: 0.1,
                prefix: true
            }
        })

        // Index all documents
        miniSearch.addAll(documents)

        const wrapper = document.getElementById('results')

        function addResultRow(s) {
            const elem = document.createElement('li');
            elem.innerHTML = s
            wrapper.append(elem);
        }

        // Add callback for key-up
        const s = document.getElementById("q")
        s.focus()
        s.addEventListener("keyup", function (e) {
            let results = miniSearch.search(s.value)

            wrapper.replaceChildren();
            for (let i in results) {
                addResultRow('<a href="' + results[i].url + '">' + results[i].title + '</a>');
            }

            if (!s.value && results.length === 0) {
                addResultRow('Skriv i søkefeltet for å begynne')
            } else if (results.length === 0) {
                addResultRow('Ingen treff for ' + s.value)
            } else {
                //addResultRow(results.length + ' treff for ' + s.value)
            }
        })
    });
</script>

                </div>
            </div>
        </div>
    </section>


    <!-- Footer -->
    <section id="footer">
        <div class="container">
            <div class="row">
                <div class="col-6 col-12-medium">
                    
                </div>
                <div class="col-6 col-12-medium imp-medium">
                    <!--
                    <section>
                        <h2>An Informative Text Blurb</h2>
                        <p>
                            Duis neque nisi, dapibus sed mattis quis, rutrum accumsan sed. Suspendisse eu
                            varius nibh. Suspendisse vitae magna eget odio amet mollis. Duis neque nisi,
                            dapibus sed mattis quis, sed rutrum accumsan sed. Suspendisse eu varius nibh
                            lorem ipsum amet dolor sit amet lorem ipsum consequat gravida justo mollis.
                        </p>
                    </section>
                    -->
                </div>
            </div>
        </div>
    </section>

    <!-- Copyright -->
    <div id="copyright">
        &copy; Ateliergården. All rights reserved. | Design: <a href="https://html5up.net">HTML5 UP</a>
    </div>

</div>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>
<script src="assets/js/index.js"></script>
</body>
</html>